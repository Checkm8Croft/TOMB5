#pragma once
#include "types.h"
#include "math_tbls.h"

// Variable macros
#define VAR_(address, type)			(*(type*)(address)) // uninitialized variable
#define ARRAY_(address, type, length)	(*(type(*)length)(address)) // array (can be multidimensional)

//vars
#define input VAR_(0x00878D98, long)
#define dbinput   VAR_(0x00878DAC, long)
#define lara    VAR_(0x00E5BD60, LARA_INFO)
#define lara_item    VAR_(0x00E5BF08, ITEM_INFO*)
#define DashTimer VAR_(0x00E5BF04, ushort)
#define effects	VAR_(0x00E5C5E0, FX_INFO*)
#define old_lara_holster VAR_(0x00E7EFE0, ushort)
#define FadeScreenHeight	VAR_(0x0051D074, short)
#define inputBusy	VAR_(0x00878C94, long)
#define GotLaraSpheres	VAR_(0x00E51F2E, char)
#define next_item_active	VAR_(0x00E5BF22, short)
#define next_item_free	VAR_(0x00E5BF16, short)
#define next_fx_active	VAR_(0x00E5C5FC, short)
#define next_fx_free	VAR_(0x00E5C5F4, short)
#define KillEverythingFlag	VAR_(0x0051CDF4, long)
#define SmokeCountL	VAR_(0x00E6C9E8, long)
#define SmokeCountR	VAR_(0x00E6C9EC, long)
#define SplashCount	VAR_(0x0051CDF8, long)
#define splash_setup	VAR_(0x00E6CAC0, SPLASH_SETUP)
#define wibble	VAR_(0x0051CDF0, long)
#define LaraDrawType	VAR_(0x00EEEAD0, char)
#define WeatherType	VAR_(0x00EEF4A0, char)
#define CamRot	VAR_(0x00E4B0E0, SVECTOR)
#define health_bar_timer	VAR_(0x0051CEA8, long)
#define GameTimer	VAR_(0x00E5C27C, ulong)
#define savegame	VAR_(0x00E52EC0, SAVEGAME_INFO)
#define NumRPickups	VAR_(0x00E5970C, uchar)
#define AnimatingWaterfallsVOffset	VAR_(0x0051CF54, long)
#define next_blood	VAR_(0x0051D088, long)
#define	cheat_hit_points	VAR_(0x00E5BBF8, short)
#define	GLOBAL_oldcamtype	VAR_(0x00E711AC, camera_type)
#define	ScreenFade	VAR_(0x0051D068, short)
#define	dScreenFade	VAR_(0x0051D06A, short)
#define	ScreenFadeBack	VAR_(0x0051D06C, short)
#define ScreenFadeSpeed	VAR_(0x0050A178, short)
#define	ScreenFadedOut	VAR_(0x0051D06E, short)
#define ScreenFading	VAR_(0x0051D070, short)
#define bDoCredits	VAR_(0x0051CE35, uchar)
#define num_fmvs	VAR_(0x0051CE25, char)
#define	changes	VAR_(0x0087515C, CHANGE_STRUCT*)
#define ranges	VAR_(0x00875160, RANGE_STRUCT*)
#define	KeyTriggerActive	VAR_(0x0051CA56, uchar)
#define FootPrintNum	VAR_(0x00E5C350, long)
#define	number_dynamics	VAR_(0x00E6D82C, long)
#define	baddie_slots	VAR_(0x00E5B834, CREATURE_INFO*)
#define GnFrameCounter	VAR_(0x00E4B0FC, ulong)
#define SmokeWeapon	VAR_(0x00E6CAA0, long)
#define HKTimer	VAR_(0x0051CEC9, char)
#define HKShotsFired	VAR_(0x0051CEC8, char)
#define joy_fire	VAR_(0x00878D9C, long)
#define joystick_read	VAR_(0x0086BA34, long)
#define joystick_read_x	VAR_(0x0086BA3C, long)
#define joystick_read_y	VAR_(0x0086BA40, long)
#define joystick_read_fire	VAR_(0x0086BA44, long)
#define KeyCount	VAR_(0x0086BA48, long)
#define XATrack	VAR_(0x00510B14, long)
#define sound_effects	VAR_(0x00E5C5F8, OBJECT_VECTOR*)
#define number_sound_effects	VAR_(0x00E5C5F0, long)
#define boxes	VAR_(0x00EEFB64, BOX_INFO*)
#define SubHitCount	VAR_(0x0051CEE4, char)
#define subsuit	VAR_(0x00E5B850, SUBSUIT_INFO)
#define OldPickupPos	VAR_(0x00E59700, PHD_VECTOR)
#define CurrentSequence	VAR_(0x00E4EA61, uchar)
#define FlashFadeR	VAR_(0x0051D07A, short)
#define FlashFadeG	VAR_(0x0051D07C, short)
#define FlashFadeB	VAR_(0x0051D07E, short)
#define FlashFader	VAR_(0x0051D080, short)
#define PickupX	VAR_(0x00E5BF38, short)
#define PickupY	VAR_(0x00E5BF26, short)
#define PickupVel	VAR_(0x00E5BF3A, short)
#define CurrentPickup	VAR_(0x00E5BF3C, short)
#define Chris_Menu	VAR_(0x0051CE2E, char)
#define title_controls_locked_out	VAR_(0x00E5C2A8, char)
#define jobyfrigger	VAR_(0x0051CA9C, char)
#define camera_pnodes	VAR_(0x00E7EE9C, PACKNODE*)
#define GLaraShadowframe	VAR_(0x00E86300, short*)
#define DestFadeScreenHeight	VAR_(0x0051D076, short)
#define GlobalFogOff	VAR_(0x0051CE04, long)
#define LiftDoor	VAR_(0x0051CB40, char)
#define GlobalSoftReset	VAR_(0x00E5C2F8, long)
#define GlobalAlpha	VAR_(0x00506D3C, long)
#define current_item	VAR_(0x009158A8, ITEM_INFO*)
#define aGlobalSkinMesh	VAR_(0x00921680, long)
#define GLOBAL_gunflash_meshptr	VAR_(0x00E6D750, short*)
#define nRope VAR_(0x0051CA60, long)
#define CurrentPendulum VAR_(0x00EEF020, PENDULUM)
#define NullPendulum VAR_(0x0051CFD0, PENDULUM)
#define CamPos	VAR_(0x00E4B0D0, PHD_VECTOR)
#define SmokeWindZ	VAR_(0x00E6C9E4, long)
#define SmokeWindX	VAR_(0x00E6C9E0, long)
#define GlobalAmbient	VAR_(0x0092167C, long)
#define dbm_command	VAR_(0x00E4ACB4, ulong)
#define dbm_clearlog	VAR_(0x00E4ACAC, ulong)
#define GLOBAL_resident_depack_buffers	VAR_(0x00E7EFDC, char*)
#define lastcamnum	VAR_(0x00E711A8, long)
#define next_fire_spark	VAR_(0x0050A17C, long)
#define next_smoke_spark	VAR_(0x0051D084, long)
#define next_gunshell	VAR_(0x0051D08C, long)
#define next_bubble	VAR_(0x0051D090, long)
#define next_drip	VAR_(0x0051D094, long)
#define next_debris	VAR_(0x0051CA8C, long)
#define GlobalPulleyFrigItem	VAR_(0x00E5BF24, short)
#define cd_drive	VAR_(0x00874960, char)
#define clipflags	VAR_(0x00D9AB34, short*)
#define Rats	VAR_(0x00EEEFEC, RAT_STRUCT*)
#define Bats	VAR_(0x00EEEFE8, BAT_STRUCT*)
#define next_rat	VAR_(0x0051CF94, long)
#define next_bat	VAR_(0x0051CA18, long)
#define outside	VAR_(0x00E6CAF8, long)
#define torchroom	VAR_(0x00507AB0, short)
#define next_spider VAR_(0x0051D008, long)
#define Spiders VAR_(0x00EEF45C, SPIDER_STRUCT*)
#define NotHitLaraCount VAR_(0x0051D0A4, char)
#define gt VAR_(0x0051CE70, GUARDIAN_TARGET)
#define credits_timer	VAR_(0x0051064C, long)
#define rgt VAR_(0x0051CF98, RG_TARGET)
#define CurrentRoom	VAR_(0x00E6D754, long)
#define ClipRoomNum	VAR_(0x00E6D730, short)
#define SteelDoorLensPos	VAR_(0x00E4B110, PHD_VECTOR)
#define snow_outside	VAR_(0x00E6CAE8, long)
#define camera_underwater	VAR_(0x00E6E4B4, long)
#define outside_top	VAR_(0x00E6E4E0, long)
#define outside_left	VAR_(0x00E6D83C, long)
#define outside_right	VAR_(0x00E6E4C0, long)
#define outside_bottom	VAR_(0x00E6D738, long)
#define room_clip_top	VAR_(0x007DFC08, float)
#define room_clip_right	VAR_(0x007DBC04, float)
#define room_clip_left	VAR_(0x007DBC00, float)
#define room_clip_bottom	VAR_(0x007DFC10, float)
#define current_room_ptr	VAR_(0x007DFC0C, ROOM_INFO*)
#define current_room_underwater	VAR_(0x007EE0C8, long)
#define RoomRGB	VAR_(0x0057A508, long)
#define old_lighting_water	VAR_(0x007EE0D4, long)
#define NumSpecialFeatures	VAR_(0x008FBD9C, long)
#define SpecialFeaturesNum	VAR_(0x00517B28, long)
#define big_char_height	VAR_(0x00E4DEA4, long)
#define load_save_options_unk	VAR_(0x00E4DEAC, long)
#define default_font_height	VAR_(0x00E4DC40, long)
#define SGcount	VAR_(0x0051CFFC, long)
#define SGpoint	VAR_(0x0051CFF8, char*)
#define FmvSceneTriggered	VAR_(0x00EEEAD8, long)
#define acm_ready   VAR_(0x0057A00C, bool)
#define audio_counter   VAR_(0x0057A018, long)
#define samples_buffer	VAR_(0x0086BEDC, char*)
#define slots_used	VAR_(0x0051CEE8, long)
#define number_boxes	VAR_(0x00EEFB68, long)
#define skelly_backgunbak	VAR_(0x00E6D732, short)
#define skelly_rhandbak	VAR_(0x00E6D840, short*)
#define skelly_lhandbak	VAR_(0x00E6D828, short*)
#define DebrisFlags	VAR_(0x0051CA88, short)
#define DebrisMesh	VAR_(0x00E8CAB0, MESH_DATA*)
#define DebrisMeshC1	VAR_(0x00E912C4, long)
#define DebrisMeshC2	VAR_(0x00E912C0, long)
#define DebrisMeshC3	VAR_(0x00E912C8, long)
#define DebrisMeshAmbient	VAR_(0x00E8CAAC, long)
#define DebrisMeshFlags	VAR_(0x00E8CAB4, long)
#define rain_count	VAR_(0x00D6866C, short)
#define max_rain	VAR_(0x00C713D8, short)
#define snow_count	VAR_(0x00C713D0, short)
#define max_snow	VAR_(0x00C717E4, short)
#define aRoomletTransformLight_num	VAR_(0x00511A64, float)
#define aRoomletTransformLight_bignum	VAR_(0x00511A5C, float)
#define nRoomletFogBulbs	VAR_(0x007DFFDC, long)
#define FPCW	VAR_(0x00878654, short)
#define save_counter	VAR_(0x008786EC, long)
#define NumLevelFogBulbs	VAR_(0x007DFFD8, long)
#define NumActiveFogBulbs	VAR_(0x007EE0C4, long)
#define nFXFogBulbs	VAR_(0x007EE0D8, long)
#define DEL_playingamefmv	VAR_(0x0051CE24, char)
#define num_level_meshes	VAR_(0x007DFFE4, long)
#define mesh_vtxbuf	VAR_(0x007DFFE0, MESH_DATA**)
#define load_cam	VAR_(0x00875198, PHD_VECTOR)
#define load_target	VAR_(0x008751A4, PHD_VECTOR)
#define load_roomnum	VAR_(0x005165CD, char)
#define DoFade	VAR_(0x00C87BF0, long)
#define FadeVal	VAR_(0x00C86BE8, long)
#define FadeStep	VAR_(0x00C713D4, long)
#define FadeCnt	VAR_(0x00C713DC, long)
#define FadeEnd	VAR_(0x00C713E0, long)
#define screen_surface	VAR_(0x0087BD58, LPDIRECTDRAWSURFACE4)
#define G_dxinfo	VAR_(0x0086B9AC, DXINFO*)
#define G_dxptr	VAR_(0x0086BD94, DXPTR*)
#define G_ddraw	VAR_(0x0086B9A8, LPDIRECTDRAW4)
#define G_hwnd	VAR_(0x0086B9A4, HWND)
#define G_d3d	VAR_(0x0086BA30, LPDIRECT3D3)
#define reading_audio_file	VAR_(0x0057A01C, volatile bool)
#define continue_reading_audio_file	VAR_(0x00579FE4, volatile bool)
#define XAFlag	VAR_(0x00510B18, long)
#define audio_cs	VAR_(0x00579FB0, CRITICAL_SECTION)
#define audio_fp_write_ptr	VAR_(0x00579FD4, uchar*)
#define audio_play_mode	VAR_(0x00579E30, long)
#define XAReqTrack	VAR_(0x0057A014, long)
#define audio_buffer_size	VAR_(0x00579FF8, long)
#define hACMStream	VAR_(0x00579FF0, HACMSTREAM)
#define pAudioWrite	VAR_(0x00579FE0, uchar*)
#define AudioBytes	VAR_(0x00579FE8, ulong)
#define CurrentNotify	VAR_(0x00579E4C, long)
#define NextWriteOffset	VAR_(0x00579FD8, long)
#define NotifySize	VAR_(0x00579FD0, long)
#define hACMDriverID	VAR_(0x00579FCC, HACMDRIVERID)
#define NotificationThreadHandle	VAR_(0x00579FA8, HANDLE)
#define DSNotify	VAR_(0x0057A000, LPDIRECTSOUNDNOTIFY)
#define hACMDriver	VAR_(0x00579FF4, HACMDRIVER)
#define resChangeCounter	VAR_(0x00D9AD9C, long)
#define start_setup	VAR_(0x0057A098, bool)
#define fmvs_disabled	VAR_(0x0057A099, bool)
#define AnimatingTexturesVOffset	VAR_(0x008751BC, short)
#define targetMeshP	VAR_(0x00E6E460, MESH_DATA*)
#define binocsMeshP	VAR_(0x00E6D744, MESH_DATA*)
#define LoadLevelName	VAR_(0x00D9AC48, LOADLEVELNAME)
#define MapData	VAR_(0x00874254, char*)
#define num_boxes	VAR_(0x00EEFB68, long)
#define overlap	VAR_(0x00EEFB5C, ushort*)

//arrays
#define objects	ARRAY_(0x0086CF50, OBJECT_INFO, [460])
#define RPickups	ARRAY_(0x00E596E0, uchar, [16])
#define AnimatingWaterfalls	ARRAY_(0x00E59720, TEXTURESTRUCT*, [6])
#define AnimatingWaterfallsV	ARRAY_(0x00E59760, float, [6])
#define interpolated_bounds	ARRAY_(0x00E6E4D0, short, [6])
#define	keymap	ARRAY_(0x0086BB8C, char, [256])
#define	weapons	ARRAY_(0x005085B0, WEAPON_INFO, [9])
#define	DeadlyBounds	ARRAY_(0x00E6C3C0, long, [6])
#define fmv_to_play	ARRAY_(0x0051CE28, char, [2])
#define inventry_objects_list	ARRAY_(0x00508E38, INVOBJ, [100])
#define	FootPrint	ARRAY_(0x00E5C3E0, FOOTPRINT, [32])
#define	dynamics	ARRAY_(0x00E6C3E0, DYNAMIC, [64])
#define Slist	ARRAY_(0x00E51FE0, SPHERE, [34])
#define layout	ARRAY_(0x00516C3C, short, [2][18])
#define conflict	ARRAY_(0x00878C4C, long, [18])
#define SequenceUsed	ARRAY_(0x00E4EA78, uchar, [6])
#define SequenceResults	ARRAY_(0x00E4EA80, uchar, [3][3][3])
#define Sequences	ARRAY_(0x00E4EA9C, uchar, [3])
#define ClosedDoors	ARRAY_(0x0051CAC0, long, [32])
#define pickups	ARRAY_(0x00E5BF40, DISPLAYPU, [8])
#define twogun	ARRAY_(0x00EEEB00, TWOGUN_INFO, [4])
#define static_objects ARRAY_(0x00874988, STATIC_INFO, [70])
#define RopeList ARRAY_(0x00E54CC0, ROPE_STRUCT, [8])
#define EnemyBites	ARRAY_(0x00509A30, BITE_INFO, [9])


//defs
#define NO_HEIGHT -32512
#define	NO_ITEM	-1
#define NO_ROOM	255
#define MAX_ITEMS	256
#define MAX_SAMPLES	450
#define FVF (D3DFVF_TEX2 | D3DFVF_SPECULAR | D3DFVF_DIFFUSE | D3DFVF_XYZRHW)
#define MALLOC_SIZE	5000000		//5MB
#define WINDOW_STYLE	(WS_OVERLAPPED | WS_BORDER | WS_CAPTION)
